# ğŸ“Œ My Seventh Project ğŸ“‹

---

##### - Outline : 2022ë…„ 4ì›” 8ì¼, ì¼ê³±ë²ˆì§¸ ê´€í†µ í”„ë¡œì íŠ¸ë¥¼ ìˆ˜í–‰í•˜ì˜€ë‹¤. í•œ ì£¼ ì „ê¹Œì§€ë§Œ í•´ë„ ì˜¤ëœë§Œì— ìˆ˜í–‰í•˜ëŠ” í”„ë¡œì íŠ¸ë¼ì„œ ì„œíˆ¬ë¥´ê²Œ ìˆ˜í–‰í–ˆëŠ”ë°, ì˜¤ëŠ˜ì€ ê·¸ë˜ë„ ìˆ˜ì›”í•˜ê²Œ ìˆ˜í–‰í•  ìˆ˜ ìˆì—ˆë‹¤. ì‚¬ì‹¤, ê·¸ ë°°ê²½ì—ëŠ” ë‹¤ë¥¸ ì´ìœ ê°€ ì¡´ì¬í•œë‹¤. ì˜¤ëŠ˜ë¶€í„° í”„ë¡œì íŠ¸ëŠ” í˜ì–´í”„ë¡œì íŠ¸ë¡œ ì´ë£¨ì–´ì¡Œê³ , ì˜¤ë¡œì§€ í˜‘ë™ì‹¬ë§Œì´ í”„ë¡œì íŠ¸ë¥¼ ì™„ë²½í•˜ê²Œ ìˆ˜í–‰í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤ëŠ” ê²ƒì„ ëŠë‚„ ìˆ˜ ìˆì—ˆê¸° ë•Œë¬¸ì´ë‹¤. ë‚˜ì˜ í˜ì–´ëŠ” ê°™ì€ ë°˜ì˜ 'ì „ìƒí˜„' í•™ìš°ì˜€ë‹¤. í‰ì†Œì—ë„ ì¹¨ì°©í•˜ê²Œ ë¬¸ì œ í•´ê²°ì„ í•˜ëŠ” ê²ƒì„ ì˜ ì•Œê³  ìˆì—ˆìœ¼ë©°, ëª‡ ë²ˆ ë‚˜ì—ê²Œ ë„ì›€ì„ ì£¼ì—ˆë˜ í•™ìš°ì—¬ì„œ ê³ ë§ˆìš´ ë§ˆìŒì„ ê°€ì§€ê³  ë³¸ í”„ë¡œì íŠ¸ì— ì§‘ì¤‘í•˜ë ¤ê³  í•˜ì˜€ë‹¤. ì¤‘ê°„ ì¤‘ê°„ ì‰¬ëŠ” ì‹œê°„ì„ ì¡°ìœ¨í•  ìˆ˜ë„ ìˆì–´ì„œ ì¢‹ì•˜ë˜ ê²ƒ ê°™ê³ , í° ì˜¤ë¥˜ì—†ì´ í”„ë¡œì íŠ¸ë¥¼ ë§ˆì¹  ìˆ˜ ìˆì—ˆë‹¤. ë§ˆì¹˜ê³  ë‚˜ì„œëŠ” ë‚´ê°€ ë¶€ì¡±í•˜ë©´ íŒ€ì›ì´ ê°™ì´ ê³ ìƒí•œë‹¤ëŠ” ê²ƒì„ ë˜ í•œ ë²ˆ ëŠë‚„ ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ìœ¼ë©°, ê·¸ë¬ê¸°ì— ë‹¤ìŒ í˜ì–´ë¥¼ ìœ„í•´ì„œë„ ë‚´ê°€ ë‹¤ìŒ ì£¼ë„ ì—´ì‹¬íˆ ê³µë¶€í•´ì•¼ í•œë‹¤ê³  ìƒê°ì´ ë“¤ì—ˆë‹¤. ì, ì´ì œ ì˜¤ëŠ˜ì˜ í”„ë¡œì íŠ¸ë¥¼ ìˆ˜í–‰í•˜ë©´ì„œ ëŠê¼ˆë˜ ì ê³¼ ê°œì„ í•´ì•¼ í•  ì ì„ ì¤‘ì‹¬ìœ¼ë¡œ README íŒŒì¼ì„ ì‘ì„±í•´ë³´ë ¤ í•œë‹¤.

---

<br>


# **< Title : "ì‚¬ìš©ì ì¸ì¦ê¸°ë°˜ ê´€ê³„í˜• DB ì„¤ê³„" >**

*(This project was carried out in **Python 3.9.9 and Django 3.2.12 environment .**)*

- *ìš”êµ¬ì‚¬í•­ : ì´ëŠ” ì»¤ë®¤ë‹ˆí‹° ì„œë¹„ìŠ¤ì˜ ê²Œì‹œíŒ ê¸°ëŠ¥ ê°œë°œì„ ìœ„í•œ ë‹¨ê³„ë¡œ, í•´ë‹¹ ê¸°ëŠ¥ë“¤ì€ í–¥í›„ ì»¤ë®¤ë‹ˆí‹° ì„œë¹„ìŠ¤ì˜ í•„ìˆ˜ ê¸°ëŠ¥ìœ¼ë¡œ ì‚¬ìš©ë  ê²ƒì´ë¼ê³  í•œë‹¤. ëª…ì„¸ì„œì— ê¸°ìˆ ë˜ì–´ ìˆëŠ” ì‚¬í•­ë“¤ì€ í•„ìˆ˜ì ìœ¼ë¡œ êµ¬í˜„í•´ì•¼ í•œë‹¤.*

---

*(í”„ë¡œì íŠ¸ íŒŒì¼ì˜ settings.py, urls.pyì™€ base.html ë“±ì˜ ê¸°ë³¸ ì„¤ì •ì€ ì œì™¸í•˜ê³  , ì•± íŒŒì¼ì— ê´€í•´ì„œë§Œ ì‘ì„±í•©ë‹ˆë‹¤.)*

<br>

- **movies/urls.py**

  ```python
  from django.urls import path
  from . import views
  
  app_name = 'movies'
  urlpatterns = [
      path('', views.index, name='index'),
      path('create/', views.create, name='create'),
      path('<int:pk>/', views.detail, name='detail'),
      path('<int:pk>/delete/', views.delete, name='delete'),
      path('<int:pk>/update/', views.update, name='update'),
      path('<int:pk>/comments/', views.comment_create, name='comment_create'),
      path('<int:movie_pk>/comments/<int:comment_pk>/delete/', views.comment_delete, name='comment_delete'),
  ]
  ```
  
  : urlì„ ì…ë ¥í•˜ì˜€ì„ ë•Œ, í˜¹ì€ í•´ë‹¹urlë¡œì˜ ì´ë™ì„ ì§€ì •í•´ ì¤„ ë•Œì— ì˜¬ë°”ë¥¸ view í•¨ìˆ˜ê°€ ì‹¤í–‰ë  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•´ ì£¼ì—ˆë‹¤. ì´ë¥¼ ì‘ì„±í•˜ë©´ì„œ ì˜¤ë¥˜ ì‚¬í•­ì€ ì—†ì—ˆë‹¤. ë‹¤ë§Œ, ë§ˆì§€ë§‰ ì¤„ì¸ movie_pkì™€ comment_pkë¥¼ ì‘ìš©í•´ì•¼ í•  ë•Œì—ëŠ” í˜ì–´ì™€ í•¨ê»˜ ë§ì€ ê³ ë¯¼ì„ í•´ì•¼ í–ˆë‹¤.

<br>

- **movies/views.py**

  ```python
  from django.shortcuts import get_object_or_404, redirect, render
  from platformdirs import user_cache_dir
  from movies.forms import MovieForm, CommentForm
  from .models import Movie, Comment
  from django.views.decorators.http import require_safe, require_http_methods, require_POST
  from django.contrib.auth.decorators import login_required
  
  # Create your views here.
  @require_safe
  def index(request):
      movies = Movie.objects.order_by('-pk')
      context = {
          'movies': movies,
      }
      return render(request, 'movies/index.html', context)
  
  @login_required
  @require_http_methods(['GET', 'POST'])
  def create(request):
      if request.method == 'POST':
          form = MovieForm(request.POST)
          if form.is_valid():
              movie = form.save(commit=False)
              movie.user = request.user
              movie.save()
              return redirect('movies:detail', movie.pk)
      
      else:
          form = MovieForm()
      
      context = {
          'form' : form
      }
  
      return render(request, 'movies/create.html', context)
  
  @require_safe
  def detail(request, pk):
      movie = get_object_or_404(Movie, pk=pk)
      comment_form = CommentForm()
      comments = movie.comment_set.all()
  
      context = {
          'movie': movie,
          'comment_form' : comment_form,
          'comments' : comments,
      }
  
      return render(request, 'movies/detail.html', context)
  
  
  @login_required
  @require_http_methods(['GET', 'POST'])
  def update(request, pk):
      movie = get_object_or_404(Movie, pk=pk)
      if request.user == movie.user:
          if request.method == 'POST':
              form = MovieForm(request.POST, instance=movie)
              if form.is_valid():
                  movie = form.save()
                  return redirect('movies:detail', movie.pk)
      
          else:
              form = MovieForm(instance=movie)
      
      else:
          return redirect('movies:index')
  
      context = {
          'movie' : movie,
          'form' : form,
      }
  
      return render(request, 'movies/update.html', context)
  
  
  @require_POST
  def delete(request, pk):
      if request.user.is_authenticated:
          movie = get_object_or_404(Movie, pk=pk)
          if Movie.user == request.user:
              movie.delete()
      
      return redirect('movies:index')
  
  @require_POST
  def comment_create(request, pk):
      if request.user.is_authenticated:
          movie = get_object_or_404(Movie, pk=pk)
          comment_form = CommentForm(request.POST)
          if comment_form.is_valid():
              comment = comment_form.save(commit=False)
              comment.movie = movie
              comment.user = request.user
              comment.save()
          return redirect('movies:detail', movie.pk)
      return redirect('accounts:login')
  
  
  @require_POST
  def comment_delete(request, movie_pk, comment_pk):
      if request.user.is_authenticated:
          comment = get_object_or_404(Comment, pk=comment_pk)
          if request.user == comment.user:
              comment.delete()
      return redirect('movies:detail', movie_pk)
  ```

  : í˜ì–´ê°€ driver ì—­í• ì„ ë§¡ì•„ ì´ view í•¨ìˆ˜ê¹Œì§€ ì‘ì„±í•˜ì˜€ëŠ”ë°, ë‚˜ëŠ” ê·¸ ë•Œì— navigatorë¡œì„œ ì˜ê²¬ ì œì‹œì™€ ì˜¤íƒ€ ìˆ˜ì • ë“±ì„ ìš”êµ¬í•  ìˆ˜ ìˆì—ˆë‹¤. ë§ì´ ì–´ìƒ‰í•˜ê¸°ë„ í•˜ì˜€ì§€ë§Œ, í˜ì–´ê°€ ë„ˆë¬´ ì‹¤ë ¥ì´ ì¢‹ì•„ì„œ ë” ë°°ìš¸ ìˆ˜ ìˆì—ˆë˜ ê³„ê¸°ì˜€ë˜ ê²ƒ ê°™ë‹¤. ì´ ë‹¹ì‹œ ë“¤ì—ˆë˜ ìƒê°ì€, 'ë‚´ê°€ driverì˜€ë‹¤ë©´ ë§‰í˜ì—†ì´ ì˜ ìˆ˜í–‰í•  ìˆ˜ ìˆì—ˆì„ê¹Œ'ì˜€ë‹¤. ê·¸ ë§Œí¼, ê°™ì€ ì½”ë“œë¥¼ ì‘ì„±í•˜ë”ë¼ë„ ë§‰í˜ì—†ì´ ìˆ˜í–‰í•˜ë©°, íŒ€ì›ì—ê²Œ ì•ˆì •ê°ì„ ì¤€ë‹¤ëŠ” ê²ƒì€ ì¤‘ìš”í•˜ë‹¤ëŠ” ê²ƒì„ ê¹¨ë‹¬ì„ ìˆ˜ ìˆì—ˆë‹¤.

<br>

- **movies/forms.py**

  ```python
  from django import forms
  from .models import Movie, Comment
  
  class MovieForm(forms.ModelForm):
  
      class Meta:
          model = Movie
          exclude = ('user',)
  
  class CommentForm(forms.ModelForm):
  
      class Meta:
          model = Comment
          fields = ('content',)
  ```

  : ë‚˜ëŠ” ì‚¬ì‹¤ ì•„ì§ modelê³¼ formì˜ ì‘ìš©ì„ ì˜ ìˆ˜í–‰í•˜ì§€ ëª»í•œë‹¤. ë‹¤ë§Œ, ì´ ë¶€ë¶„ë¶€í„°ëŠ” ë‚´ê°€ driverê°€ ë˜ì–´ ìˆ˜í–‰í•˜ì˜€ëŠ”ë°, ì´ì „ ìˆ˜ì—… ë‚´ìš©ì„ ì°¸ê³ í•  ìˆ˜ ìˆì—ˆë‹¤. í˜¼ìì„œ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ë‹¤ë¥¸ ëˆ„êµ°ê°€ì™€ ê°™ì´ ìˆ˜í–‰í•˜ë‹¤ë³´ë‹ˆ, ê¸´ì¥ê°ìˆê²Œ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ê¸°ë¶„ì´ì—ˆë‹¤. ìƒˆë¡œìš´ ëŠë‚Œì´ì—ˆê³ , ë‚˜ì˜ì§„ ì•Šì•˜ë‹¤.

<br>

- **movies/models.py**

  ```python
  from django.db import models
  from django.conf import settings
  
  # Create your models here.
  class Movie(models.Model):
      user = models.ForeignKey(settings.AUTH_USER_MODEL, on_delete=models.CASCADE)
      title = models.CharField(max_length=20)
      description = models.TextField()
  
      def __str__(self):
          return self.title
  
  class Comment(models.Model):
      movie = models.ForeignKey(Movie, on_delete=models.CASCADE) 
      user = models.ForeignKey(settings.AUTH_USER_MODEL, on_delete=models.CASCADE)
      content = models.CharField(max_length=100)
  
      def __str__(self):
          return self.title
  ```

  : modelíŒŒíŠ¸ ë˜í•œ ForeignKeyë¥¼ ì‘ìš©í•  ìˆ˜ ìˆì–´ì•¼  í•´ì„œ ì¡°ê¸ˆ ë²„ë²…ê±°ë¦¬ê¸´ í–ˆëŠ”ë°, ê·¸ë˜ë„ ì´ë²ˆ ì£¼ì— ë°°ì› ë˜ ë‚´ìš©ì„ ë– ì˜¬ë¦¬ë©´ì„œ ì°¨ê·¼ì°¨ê·¼ í•´ê²°í•  ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ë‹¤. ëª…ì„¸ì„œì— ì í˜€ì§„ ëŒ€ë¡œ ì˜¤ë¥˜ì—†ì´ í•´ê²°í•˜ë ¤ í•˜ì˜€ê³ , ì´ ë•Œë¶€í„° ê¸´ì¥í•˜ì§€ ì•Šê³  ì§„í–‰í•˜ë‹¤ ë³´ë‹ˆ ì‹¤ìˆ˜ë¥¼ ì¤„ì¼ ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ë‹¤.

<br>

---

## âœAfter finishing..

>   ã€€ã€€ã€€ã€€ì¼ê³±ë²ˆì§¸ ê´€í†µ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ì˜€ë‹¤. ì›¹ ê³¼ì •ì„ êµìœ¡ë°›ë‹¤ ë³´ë‹ˆ ê¸ˆìš”ì¼ë§ˆë‹¤ ì‘ì€ ê´€í†µ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ê²Œ ë˜ëŠ”ë°, ì´ì œ ì •ë§ ì–¼ë§ˆ ë‚¨ì§€ ì•Šì•˜êµ¬ë‚˜ ìƒê°ì´ ë“ ë‹¤. ìµœì¢… í”„ë¡œì íŠ¸ë¥¼ ì•ë‘ê³  ì´ë ‡ê²Œ ì—°ìŠµí•˜ê³  ìˆë‹¤ê³  ìƒê°í•˜ëŠ”ë°, ìš”ì¦˜ ë“œëŠ” ìƒê°ì€ ë‹¤ìŒê³¼ ê°™ë‹¤. 'ë‚´ê°€ ëˆ„êµ°ê°€ì—ê²Œ í”¼í•´ê°€ ë˜ì§€ ì•Šì•˜ìœ¼ë©´ ì¢‹ê² ë‹¤.'ì´ë‹¤. í•˜ì§€ë§Œ, ì ì°¨ ì´ ìƒê°ì„ ì¤„ì—¬ ë‚˜ê°€ë ¤ê³  í•œë‹¤. ì™œëƒí•˜ë©´, ë‚˜ì˜ ì•„ì´ë””ì–´ë¥¼ ë‚˜ì˜ ë‘ë ¤ì›€ìœ¼ë¡œ ì‚¼ì¼œë²„ë¦¬ê²Œ ë†”ë‘˜ ìˆ˜ëŠ” ì—†ê¸° ë•Œë¬¸ì´ë‹¤. ë‚˜ëŠ” ë°˜ë“œì‹œ ë¶€ì¡±í•œ ì‹¤ë ¥ì¼ì§€ë¼ë„, ì°½ì˜ì„±ìœ¼ë¡œ ìŠ¹ë¶€ë¥¼ ë‚´ë ¤ í•œë‹¤. ê·¸ëŸ¬ê¸° ìœ„í•´ ë‚˜ëŠ” ë‘ë ¤ì›€ì„ ì—†ì• ëŠ” ì—°ìŠµì„ ë§¤ì¼ í•˜ê³  ìˆë‹¤. 'ë‚˜ëŠ” ì¶©ë¶„íˆ ì˜ í•˜ê³  ìˆë‹¤.'ë¼ê³  ë˜ë‡Œì¸ë‹¤.
>
>   ã€€ã€€â€‹		ì˜¤ëŠ˜ ì²« í˜ì–´ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ, ëŠë‚€ ì ì„ ìœ„ì— ì ì–´ë³´ì•˜ë‹¤. ê³µí†µëœ ì ì€, ë‚´ê°€ ë§ì´ ìœ„ì¶•ë˜ì–´ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤. ì–´ë–»ê²Œ ë³´ë©´, ê·¸ ì ë„ í‹€ë¦¬ì§„ ì•Šë‹¤. ê°™ì€ ë‚´ìš©ì„ ë°°ì› ì–´ë„ ì¶©ë¶„í•œ ì—°ìŠµì´ ë˜ì§€ ì•Šì•˜ê¸°ì— ê·¸ëŸ° ìƒê°ì´ ë“¤ì—ˆë˜ ê²ƒì´ë‹¤. ì—°ìŠµë§Œì´ ì´ëŸ° ìƒê°ì„ ë¬¼ë¦¬ì³ ì¤„ ê²ƒì´ë¼ëŠ” ê²ƒì„ ì•ˆë‹¤. ë‚˜ì•„ê°€ì.
>
>   ã€€ã€€â€‹		ë§ˆì§€ë§‰ìœ¼ë¡œ ëë§ºê¸° ì „ì—, ì‚¬ì‹¤ accounts ì•±ì— ëŒ€í•´ì„œ ìœ„ì— ì‘ì„±í•˜ì§„ ì•Šì•˜ë‹¤. ë‹¤ë§Œ, ìˆ˜í–‰í•˜ë©´ì„œ ëŠë‚€ ì ì„ ì ì–´ë³´ë ¤ í•œë‹¤. ìœ„ì— ì‘ì„±í•˜ì§€ ì•Šì€ ì´ìœ ëŠ” ìˆ˜ì—…ë‚´ìš©ê³¼ ë³„ë°˜ ë‹¤ë¥´ì§€ ì•Šì•„ì„œ ì˜€ë‹¤. ì˜¤ëŠ˜ í”„ë¡œì íŠ¸ë¥¼ ìˆ˜í–‰í•˜ë©´ì„œ ìˆ˜ì—… ë‚´ìš©ì„ ë³µìŠµí•˜ê³  ìˆë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆë‹¤. ì•Œê³ ë¦¬ì¦˜ì€ ë¬¸ì œë¥¼ í’€ë©´ì„œ ì‹¤ë ¥ì´ ëŠ˜ê³  ìˆë‹¤ëŠ” ê²ƒì„ ëŠê¼ˆëŠ”ë°, ì›¹ ê³¼ì •ë„ ë§ì´ ë‹¤ë¥´ì§„ ì•Šì€ ê²ƒ ê°™ë‹¤. ê¾¸ì¤€í•˜ê²Œë§Œ í•˜ë©´ ì‹¤ë ¥ì€ ëŠ˜ì–´ë‚  ê²ƒ ê°™ë‹¤. í•  ìˆ˜ ìˆë‹¤!
